# Docker 部署 - 环境变量配置示例
# 将此文件复制为 .env 并根据实际情况修改

# ==================== GitHub Configuration ====================
# 从 https://github.com/settings/tokens 生成 Personal Access Token
# 需要的权限: repo (for private repos), public_repo (for public repos)
GITHUB_TOKEN=ghp_your_github_token_here

# GitHub API URL (默认为官方 GitHub)
GITHUB_API_URL=https://api.github.com

# GitHub 用户名或组织名 (可选，用于过滤仓库)
GITHUB_OWNER=your_username


# ==================== Gitea Configuration ====================
# Gitea 服务器地址 (e.g., https://gitea.company.com)
GITEA_URL=https://gitea.example.com

# Gitea API Token
# 从 Gitea 设置 -> 应用程序 -> Token 生成
GITEA_TOKEN=your_gitea_api_token_here

# Gitea 用户名 (用于推送代码)
GITEA_USERNAME=mirror_user

# Gitea 密码或 Token (用于通过 HTTPS 推送)
GITEA_PASSWORD=your_gitea_password_or_token


# ==================== MySQL Database Configuration ====================
# MySQL root 用户密码 - 【生产环境必须修改】
MYSQL_ROOT_PASSWORD=root123456

# 数据库名称
MYSQL_DATABASE=mirror_git

# 数据库用户名
MYSQL_USER=mirror_user

# 数据库用户密码 - 【生产环境必须修改】
MYSQL_PASSWORD=mirror123456

# MySQL 端口
MYSQL_PORT=3306


# ==================== Application Configuration ====================
# 应用监听端口
APP_PORT=8000

# 本地仓库存储路径
LOCAL_REPO_PATH=/app/data/repos


# ==================== Sync Configuration ====================
# 同步间隔（秒）- 默认 1 小时
SYNC_INTERVAL=3600

# 同步超时（秒）- 默认 30 分钟
SYNC_TIMEOUT=1800

# 最大重试次数
MAX_RETRIES=3

# 重试等待时间（秒）
RETRY_WAIT=60

# 并发同步仓库数量 (根据服务器性能调整)
CONCURRENT_SYNC=3

# 是否跳过已存在的本地仓库（true: 只更新 | false: 重新克隆）
SKIP_EXISTING_REPOS=true

# 是否同步 Fork 的仓库
INCLUDE_FORKS=true

# 是否同步私有仓库
INCLUDE_PRIVATE=true

# 仓库过滤 - 正则表达式 (留空表示同步所有)
REPO_FILTER=


# ==================== Logging Configuration ====================
# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=/app/logs/sync.log

# 日志文件最大大小（MB）
LOG_MAX_SIZE=100

# 保留日志文件数
LOG_BACKUP_COUNT=10


# ==================== Advanced Configuration ====================
# 是否启用 SSH 推送 (true/false)
USE_SSH=false

# SSH Key 路径（如果启用 SSH）
SSH_KEY_PATH=~/.ssh/id_rsa

# 是否使用代理 (true/false)
USE_PROXY=false

# 代理地址
PROXY_URL=http://proxy.example.com:8080

# 代理用户名
PROXY_USERNAME=

# 代理密码
PROXY_PASSWORD=


# ==================== Database Configuration ====================
# 数据库类型: sqlite, mysql, postgresql
# Docker 环境推荐使用 mysql
DATABASE_TYPE=mysql

# 数据库 URL - Docker 环境下自动由 docker-compose 配置
# 此处仅用于本地开发环境
# DATABASE_URL=mysql+pymysql://mirror_user:mirror123456@mysql:3306/mirror_git?charset=utf8mb4

# 是否启用数据库
ENABLE_DATABASE=true


# ==================== Notification Configuration ====================
# 是否启用通知
ENABLE_NOTIFICATION=false

# 通知方式: email, webhook, slack (逗号分隔)
NOTIFICATION_TYPE=

# 邮件通知收件人
NOTIFICATION_EMAIL=admin@example.com

# Webhook URL (用于失败通知)
NOTIFICATION_WEBHOOK_URL=

# Slack Webhook URL
NOTIFICATION_SLACK_WEBHOOK=


# ==================== System Configuration ====================
# 时区设置
TZ=Asia/Shanghai

# 配置文件路径
CONFIG_FILE=/app/.env

# Python 日志级别
PYTHONUNBUFFERED=1
PYTHONDONTWRITEBYTECODE=1
