# GitHub Mirror Sync - Docker 环境变量配置示例
# 
# 使用方法：
# 1. 复制此文件: cp docker.env.example docker.env
# 2. 编辑 docker.env 并填入您的实际配置
# 3. 使用 docker run --env-file docker.env 启动容器
#
# 注意：请勿将包含真实凭证的 docker.env 文件提交到版本控制

# ==================== GitHub 配置 (可选) ====================
# GitHub Personal Access Token
# 从 https://github.com/settings/tokens 生成
# 权限: repo (完整仓库访问权限)
#
# 注意：仅在需要访问私有仓库时必填
#      对于公开仓库，可以留空或不设置
GITHUB_TOKEN=

# GitHub API URL (通常不需要修改)
GITHUB_API_URL=https://api.github.com

# ==================== Gitea 配置 (必需) ====================
# Gitea 服务器地址
GITEA_URL=https://gitea.example.com

# Gitea API Token
# 从 Gitea -> 设置 -> 应用程序 -> 管理访问令牌 生成
# 权限: repository (读写)、user (读)
GITEA_TOKEN=your_gitea_api_token_here

# Gitea 用户名
GITEA_USERNAME=mirror_user

# Gitea 密码或 Token (用于 HTTPS 推送)
GITEA_PASSWORD=your_password

# ==================== 同步配置 ====================
# 本地仓库存储路径
LOCAL_REPO_PATH=/app/data/repos

# 同步间隔（秒）- 默认 1 小时
SYNC_INTERVAL=3600

# 同步超时（秒）- 默认 30 分钟
SYNC_TIMEOUT=1800

# 最大重试次数
SYNC_RETRY_COUNT=3

# 并发同步仓库数量
SYNC_CONCURRENT=3

# ==================== 日志配置 ====================
# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO

# 日志文件路径
LOG_FILE=/app/logs/sync.log

# 日志文件最大大小（MB）
LOG_MAX_SIZE=100

# 保留日志文件数
LOG_BACKUP_COUNT=10

# ==================== 数据库配置 ====================
# SQLite (默认，推荐用于小规模部署 - 无需额外配置)
#
# 💡 SQLite URL 格式说明：
#   sqlite:////app/data/xxx.db  (4个斜杠 = 绝对路径 /app/data/xxx.db)
#   sqlite:///data/xxx.db       (3个斜杠 = 相对路径，容器工作目录是 /app，所以实际路径是 /app/data/xxx.db)
#   推荐使用绝对路径（4个斜杠）避免混淆
#
DATABASE_URL=sqlite:////app/data/mirror_sync.db

# MySQL (推荐用于生产环境 - 需要先启动 MySQL 容器)
# DATABASE_URL=mysql+pymysql://mirror_user:mirror123456@mirror-git-mysql:3306/mirror_git?charset=utf8mb4

# PostgreSQL
# DATABASE_URL=postgresql://mirror_user:mirror123456@postgres:5432/mirror_git

# ==================== 代理配置（可选）====================
# 是否使用代理 (true/false)
USE_PROXY=false

# 代理地址 (如果 USE_PROXY=true)
# PROXY_URL=http://proxy.example.com:8080

# 代理用户名（如果需要认证）
# PROXY_USERNAME=

# 代理密码（如果需要认证）
# PROXY_PASSWORD=

# ==================== 高级配置 ====================
# 时区设置
TZ=Asia/Shanghai

# 是否启用SSH推送（通常不需要）
USE_SSH=false

# SSH Key 路径（如果启用 SSH）
# SSH_KEY_PATH=~/.ssh/id_rsa
